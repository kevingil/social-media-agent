<form hx-post="{{ url_for('generate_post') }}" hx-target="#generate-container" hx-swap="innerHTML" method="post"
    class="space-y-4">
    <div class="flex flex-col w-full">
        <input type="hidden" name="campaign_id"
            value="{% if campaign  %}{{ campaign.id }}{% else %}{{ campaign_id }}{% endif %}">
        <label for="prompt" class="font-medium mb-1">Prompt:</label>
        <textarea class="border border-gray-300 rounded-md px-3 py-2 mb-8" name="prompt" rows="3"
            required>{{ campaign.prompt if campaign else campaign_prompt  if campaign_prompt else ''}}</textarea>
    </div>
    <div class="flex justify-end">
        <button type="submit" class="bg-slate-700 hover:bg-slate-800 text-white font-bold py-2 px-4 rounded">Generate
            Posts</button>
    </div>
</form>
<div class="flex flex-col gap-4 mt-8">
    {% for post in post_list %}
    <div class="flex flex-row gap-4">
        <div class="flex object-contain">
            <img src="{{ post.media_key }}" class="max-w-[200px] rounded" />
        </div>
        <div class="flex flex-col">
            <div class="text-gray-800 text-semibold">Text Content</div>
            <div class="text-gray-600 mb-2">{{ post.text_content }}</div>
            <div class="text-gray-800 text-semibold">Target Platform</div>
            <div class="text-gray-600 mb-2">{{ post.target_platform }}</div>
            <div class="text-gray-800 text-semibold">Scheduled for</div>
            <div class="text-gray-600">{{ post.date }}</div>
        </div>
    </div>
    {% endfor %}
</div>
